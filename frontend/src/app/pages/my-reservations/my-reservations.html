<div class="reservations-container">
  <h2>My Tickets</h2>

  <div *ngIf="reservations.length === 0" class="no-data">
    <p>ğŸŸï¸ You haven't booked any movies yet.</p>
  </div>

  <div class="res-card" *ngFor="let res of reservations">
    
    <div class="ticket-left">
      
      <div class="movie-title">
        {{ res.movieName || res.movie_name }}
      </div>

      <div class="client-row" *ngIf="currentUser">
        <span class="client-label">Ticket Holder:</span>
        <span class="client-name">
            {{ currentUser.firstName || currentUser.first_name }} 
            {{ currentUser.lastName || currentUser.last_name }}
        </span>
      </div>

      <div class="ticket-meta">
        <span class="meta-item">
          ğŸ“… {{ res.date || res.projection_date }}
        </span>
        <span class="meta-item">
          â° {{ res.time || res.projection_time }}
        </span>
        <span class="meta-item">
          ğŸ“ Hall {{ res.hall_nr }}
        </span>
      </div>

      <div class="info-row">
        <div class="seat-info">
          Seats: <b>{{ res.seats || res.seat_numbers }}</b>
        </div>
        
        <div class="price-tag">
          <span class="price-label">Total Paid</span>
          <span class="price-value">{{ res.totalPrice || res.total_price }} <small style="font-size: 1rem;">RON</small></span>
        </div>
      </div>

    </div>

    <div class="qr-section">
      <qrcode 
        [qrdata]="getQrData(res)" 
        [width]="110" 
        [margin]="0"
        [errorCorrectionLevel]="'M'">
      </qrcode>
      <span class="scan-text">SCAN ME</span>
    </div>

  </div>
</div>